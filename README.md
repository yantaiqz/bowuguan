# National Treasures Auction | 国宝拍卖行
![项目图标](🏺)

## 项目简介
这是一个基于 **Streamlit** 开发的国宝拍卖模拟网页应用，以中英双语呈现中国五大知名博物馆（南京博物院、三星堆博物馆等）的珍贵文物，用户可模拟拍卖文物、累计成交金额，并查看成交明细，同时附带财富购买力换算（对应各地高端房产）、访问统计等附加功能。

### 核心特色
1.  中英双语无缝切换，适配国内外用户
2.  精美卡片式藏品展示，带hover动效和价格动画
3.  自动创建图片目录，支持本地藏品图片加载与网络占位图容错
4.  完整拍卖流程模拟，含成交动画与状态持久化
5.  成交明细统计、累计收益展示，支持重置功能
6.  访问UV统计（今日/历史），数据持久化存储于SQLite
7.  打赏功能模块，支持微信、支付宝、PayPal三种支付方式

## 支持的博物馆与藏品
### 合作博物馆（5家）
| 中文名称 | 英文名称 | 对应城市（拼音） |
|----------|----------|------------------|
| 南京博物院 | Nanjing Museum | nanjing |
| 三星堆博物馆 | Sanxingdui Museum | sanxingdui |
| 中国国家博物馆 | National Museum of China | beijing |
| 上海博物馆 | Shanghai Museum | shanghai |
| 陕西历史博物馆 | Shaanxi History Museum | xian |

### 藏品规模
每家博物馆提供18件珍贵文物，涵盖青铜器、玉器、书画、金银器等品类，每件藏品均包含：
- 中英双语名称、年代、描述
- 预设拍卖价格（单位：人民币，支持亿/万单位格式化）
- 图片支持（本地加载优先，无本地图片自动生成专属占位图）

## 环境准备
### 依赖库安装
```bash
pip install streamlit sqlite3 uuid python-datetime os time random base64
```
> 说明：`sqlite3`、`uuid`、`datetime`、`os`、`time`、`random`、`base64` 为Python内置库，通常无需额外安装，仅需确保`streamlit`版本≥1.20.0

### 目录结构要求
项目运行后会自动创建以下目录结构，无需手动创建：
```
├── 项目根目录
│   ├── img/                # 图片根目录
│   │   ├── mansion/        # 别墅/房产图片目录
│   │   ├── nanjing/        # 南京博物院藏品图片目录
│   │   ├── sanxingdui/     # 三星堆博物馆藏品图片目录
│   │   ├── beijing/        # 中国国家博物馆藏品图片目录
│   │   ├── shanghai/       # 上海博物馆藏品图片目录
│   │   └── xian/           # 陕西历史博物馆藏品图片目录
│   └── 项目主脚本.py       # 你的核心代码文件
```

## 运行步骤
1.  将核心代码保存为 `national_treasures_auction.py`
2.  在终端切换至脚本所在目录
3.  执行运行命令：
    ```bash
    streamlit run national_treasures_auction.py
    ```
4.  自动打开浏览器，访问 `http://localhost:8501` 即可使用应用

## 功能使用指南
### 1. 基础操作
- **语言切换**：页面顶部右侧点击「En」/「中」，切换中英双语界面
- **博物馆选择**：页面标题下方，选择目标博物馆（中英双语标注）
- **查看房产购买力**：博物馆选择器右侧，显示当前累计收益可购买对应博物馆配套房产的套数

### 2. 拍卖操作
1.  下滑至藏品列表，找到未拍卖的藏品（标注「🕵️ 价值待揭晓」/「🕵️ Value to be revealed」）
2.  点击藏品下方「㊙ 立即拍卖」/「㊙ Auction Now」按钮
3.  等待拍卖动画完成（含进度提示与成交通知）
4.  自动更新累计收益、成交明细，该藏品标记为「已成交」/「Sold」（图片灰度化，显示最终成交价）

### 3. 明细与统计
- **成交明细**：页面上部「📋 拍卖成交明细」/「📋 Auction Transaction Details」面板，查看所有已成交藏品的名称、年代、价格、状态
- **累计收益**：明细面板底部显示累计成交总额与成交藏品数量
- **访问统计**：页面底部显示今日UV（独立访客）与历史UV

### 4. 附加功能
- **重置功能**：页面底部左侧点击「🔄 破产/重置」/「🔄 Reset」，清空所有成交记录与累计收益
- **打赏功能**：页面底部中间点击「☕ 请开发者喝咖啡」/「☕ Buy me a coffee」，打开打赏窗口，支持预设杯数或自定义输入，提供三种支付方式
- **更多应用**：页面顶部右侧点击「✨ More」，跳转至开发者其他应用

## 数据持久化说明
1.  **成交状态**：基于Streamlit `session_state` 存储，会话期间有效，关闭浏览器后重置
2.  **访问统计**：基于SQLite数据库存储，数据库文件路径为 `~/visit_stats.db`（用户根目录），持久化保存每日PV与访客信息，不会随会话结束丢失

## 注意事项
1.  藏品图片命名规则：对应目录下按藏品序号命名（如 `1.jpeg`、`2.jpg`、`[] (1).jpeg`），支持jpeg/jpg格式
2.  别墅图片命名规则：`mansion` 目录下保存为 `1.jpeg`-`5.jpeg`，对应5家博物馆的配套房产
3.  应用运行时请勿手动删除自动创建的目录与文件，避免功能异常
4.  打赏功能仅为展示，无实际支付校验，扫码支付后点击确认仅触发动画效果

## 界面预览
### 核心界面元素
1.  顶部：语言切换 + 更多应用入口
2.  标题区：应用名称 + 博物馆选择器 + 房产购买力展示
3.  核心区：成交明细面板 + 藏品卡片列表
4.  底部：重置按钮 + 打赏功能 + 访问统计条

### 视觉风格
- 整体风格：简约大气，以白色、浅灰色为底色，突出藏品展示
- 动效设计：藏品卡片hover上浮、成交价渐显动画、拍卖进度提示、成交气球动画
- 响应式布局：支持宽屏显示（最多6列藏品卡片），适配不同尺寸浏览器

## 免责声明
1.  本应用为模拟娱乐项目，所有藏品价格均为虚构，不代表实际文物价值
2.  本应用不涉及真实交易，仅用于技术展示与学习交流
3.  藏品相关信息仅供参考，如需准确文物资料，请查阅对应博物馆官方公告
